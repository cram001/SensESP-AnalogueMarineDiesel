[platformio]
default_envs = esp32-dev

[env:esp32-dev]
platform = espressif32 @ ^6.9.0
framework = arduino
board = esp32dev

monitor_speed = 115200
upload_speed = 2000000

# Only compile the primary entry point to avoid conflicts from multiple mains
# `src_filter` is deprecated â€” use `build_src_filter`.
build_src_filter = +<main.cpp>

lib_deps =
    SignalK/SensESP@^3.1.1
    bblanchon/ArduinoJson@^7.0.0
    paulstoffregen/OneWire @ ^2.3.7
    milesburton/DallasTemperature @ ^3.9.0


build_flags =
    -D USE_ESP_IDF_LOG
    -D CORE_DEBUG_LEVEL=5
    -D TAG='"Arduino"'
    -D SENSESP_DISABLE_SYSTEM_STATUS_LED=1


board_build.partitions = min_spiffs.csv
monitor_filters = esp32_exception_decoder
